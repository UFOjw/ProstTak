<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Anki Trainer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 min-h-screen py-10 overflow-x-hidden">
  <div class="max-w-xl mx-auto text-center relative">
    <!-- Menu Toggle -->
    <button id="menuToggle" class="fixed top-4 left-4 z-50 p-2 rounded hover:bg-gray-200" aria-label="Open menu">
      <svg class="w-8 h-8 text-gray-800" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round">
        <line x1="4" y1="6" x2="20" y2="6" />
        <line x1="4" y1="12" x2="20" y2="12" />
        <line x1="4" y1="18" x2="20" y2="18" />
      </svg>
    </button>

    <!-- Add Cards Form Toggle -->
    <div class="relative mb-8">
      <button id="toggleFormBtn"
              class="bg-neutral-700 hover:bg-neutral-800 text-white px-4 py-2 rounded shadow transition
                     min-w-[200px] mx-auto block">
        Show Add Cards Form
      </button>

      <div id="formContainer" class="hidden mt-6">
        <h1 class="text-2xl font-bold mb-4">Add Your Cards</h1>
        <textarea id="jsonInput" rows="10"
                  class="w-full border border-gray-300 rounded p-2 mb-4 text-sm"
                  placeholder="Paste JSON data here..."></textarea>

        <div class="flex flex-col sm:flex-row justify-center items-center gap-3 mt-2">
          <button id="loadBtn"
                  class="bg-indigo-700 hover:bg-indigo-800 text-white text-sm font-semibold py-2 px-5
                         rounded-md shadow-sm transition">
            ğŸƒ Load Cards
          </button>
          <button id="exportBtn"
                  class="bg-sky-700 hover:bg-sky-800 text-white text-sm font-semibold py-2 px-5
                         rounded-md shadow-sm transition">
            ğŸ“¤ Export
          </button>
          <button id="importBtn"
                  class="bg-emerald-700 hover:bg-emerald-800 text-white text-sm font-semibold py-2 px-5
                         rounded-md shadow-sm transition">
            ğŸ“¥ Import
          </button>
        </div>
      </div>
    </div>

    <!-- Card Display Area -->
    <div id="cardArea" class="mt-10 hidden">
      <h2 class="text-xl font-semibold mb-1">Anki-Like Single Card</h2>
      <div class="mb-3">
        <span id="groupBadge" class="inline-block text-xs px-2 py-1 rounded border hidden">
          Group: â€”
        </span>
      </div>
      <div class="bg-white shadow rounded-lg p-6 flex flex-col items-center justify-center min-h-[150px]">
        <p id="cardPhrase" class="text-lg font-bold text-center">Loading...</p>
        <button id="showDetailsBtn"
                class="invisible hidden mt-4 bg-neutral-700 hover:bg-neutral-800 text-white text-sm
                       px-4 py-2 rounded shadow transition-opacity transition-transform duration-300">
          Show Details
        </button>
        <ul id="cardMeanings" class="mt-4 text-left text-sm text-gray-700"></ul>
      </div>

      <div class="mt-4 space-x-4">
        <button id="rememberBtn"
                class="bg-emerald-700 hover:bg-emerald-800 text-white font-semibold py-2 px-4 rounded">
          I Remember
        </button>
        <button id="dontRememberBtn"
                class="bg-rose-700 hover:bg-rose-800 text-white font-semibold py-2 px-4 rounded">
          I Don't Remember
        </button>
      </div>

      <p id="cardCounter" class="text-sm mt-4">Card 0 of 0</p>
      <p class="text-sm">
        Remembered: <span id="rememberedCount">0</span> |
        Not Remembered: <span id="notRememberedCount">0</span>
      </p>
    </div>
  </div>

  <!-- Details Sidebar -->
  <div id="infoSidebar"
       class="fixed top-0 right-0 w-96 h-full bg-white rounded-l-2xl shadow-lg p-6 z-50 hidden
              overflow-y-auto border-l border-gray-200">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-lg font-bold">Details</h2>
      <button id="closeSidebarBtn" class="text-gray-500 hover:text-gray-700 text-3xl leading-none">
        &times;
      </button>
    </div>
    <div id="sidebarContent" class="text-sm space-y-2 text-left"></div>
  </div>

  <!-- Menu Sidebar -->
  <div id="menuSidebar"
       class="fixed top-0 left-0 w-80 h-full bg-white rounded-r-2xl shadow-lg p-6 z-50 hidden">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-lg font-bold">Menu</h2>
      <button id="closeMenuBtn" class="text-gray-500 hover:text-gray-700 text-3xl leading-none">
        &times;
      </button>
    </div>
    <div class="space-y-4">
      <button id="resetProgressBtn"
              class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded shadow
                     transition">
        â™»ï¸ Reset Training
      </button>
      <button id="showWordsListBtn"
              class="w-full bg-indigo-700 hover:bg-indigo-800 text-white font-semibold py-2 px-4 rounded shadow
                     transition">
        ğŸ“š Show All Words
      </button>
      <button id="openGroupsBtn"
              class="w-full bg-purple-700 hover:bg-purple-800 text-white font-semibold py-2 px-4 rounded shadow transition">
        ğŸ§© Groups
      </button>
      <button id="optionsBtn"
              class="w-full bg-gray-700 hover:bg-gray-800 text-white font-semibold py-2 px-4 rounded shadow transition">
        âš™ï¸ Options
      </button>
      <button id="showStatsBtn"
              class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded shadow transition">
        ğŸ“Š Statistics
      </button>
    </div>
  </div>

  <!-- Options Modal -->
  <div id="optionsModal"
      class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
    <div class="bg-white p-6 rounded shadow-xl w-[90%] max-w-md relative">
      <button id="closeOptionsBtn"
              class="absolute top-3 right-4 text-gray-400 hover:text-gray-700 text-2xl leading-none">
        &times;
      </button>

      <h2 class="text-lg font-bold mb-4 flex items-center gap-2">
        âš™ï¸ Options
      </h2>

      <div class="space-y-5 text-sm text-gray-800">
        <!-- Show first meaning -->
        <div class="flex items-center justify-between">
          <div>
            <p class="font-medium">Show first meaning</p>
            <p class="text-xs text-gray-500">Display only the first translation if multiple exist.</p>
          </div>
          <label class="relative inline-flex items-center cursor-pointer">
            <input type="checkbox" id="viewToggle" class="sr-only peer">
            <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-indigo-500 
                        after:content-[''] after:absolute after:top-[2px] after:left-[2px]
                        after:bg-white after:border-gray-300 after:border after:rounded-full 
                        after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full">
            </div>
          </label>
        </div>

        <!-- Answer speed -->
        <div>
          <p class="font-medium mb-1">â³ Answer speed</p>
          <div class="flex gap-2">
            <button data-speed="off"
                    class="speed-btn bg-gray-200 text-gray-800 px-3 py-1 rounded text-xs font-medium active:bg-indigo-600 active:text-white">
              Off
            </button>
            <button data-speed="30"
                    class="speed-btn bg-gray-200 text-gray-800 px-3 py-1 rounded text-xs font-medium">
              30s
            </button>
            <button data-speed="60"
                    class="speed-btn bg-gray-200 text-gray-800 px-3 py-1 rounded text-xs font-medium">
              60s
            </button>
          </div>
          <p class="text-xs text-gray-500 mt-1">Set a timer per word (auto-skip after time ends).</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Words List Modal -->
  <div id="wordsListModal"
      class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
    <div id="wordsListModalBox" class="bg-white p-6 rounded shadow-xl w-[90%] max-w-md relative transition-all duration-300">
      <button id="closeWordsListBtn" class="absolute top-3 right-4 text-gray-500 hover:text-gray-700 text-2xl leading-none">
        &times;
      </button>
      <h2 class="text-lg font-bold mb-4">All Words</h2>
      <div id="settingsPanel" class="flex items-center justify-center gap-2 mb-4">
        <button id="settingsLeftArrow" class="arrow-btn">
          <!-- Ğ›ĞµĞ²Ğ°Ñ ÑÑ‚Ñ€ĞµĞ»ĞºĞ° SVG -->
          <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
          </svg>
        </button>
        <button id="layout1Btn" class="icon-btn">
          <img src="icons/column 1.png" alt="1 column layout" />
        </button>
        <button id="layout2Btn" class="icon-btn">
          <img src="icons/columns 2.png" alt="2 columns layout" />
        </button>
        <button id="layout3Btn" class="icon-btn">
          <img src="icons/columns 3.png" alt="3 columns layout" />
        </button>
        <button id="settingsRightArrow" class="arrow-btn">
          <!-- ĞŸÑ€Ğ°Ğ²Ğ°Ñ ÑÑ‚Ñ€ĞµĞ»ĞºĞ° SVG -->
          <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
          </svg>
        </button>
      </div>
      <input
        id="searchInput"
        type="text"
        placeholder="Search words..."
        class="w-full border border-gray-300 rounded px-3 py-2 mb-3 text-sm"
      />
      <div id="wordsListContent" class="max-h-[60vh] overflow-y-auto space-y-2 text-sm transition-all duration-300"></div>
      <div id="pagination" class="flex justify-center gap-2 mt-2"></div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer" class="fixed top-4 right-4 space-y-2 z-50"></div>

  <!-- Statistics Modal -->
  <div id="statsModal"
      class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
    <div class="bg-white p-6 rounded shadow-xl w-[90%] max-w-md relative">
      <button id="closeStatsBtn"
              class="absolute top-3 right-4 text-gray-500 hover:text-gray-700 text-2xl leading-none">
        &times;
      </button>
      <div class="flex items-center gap-2 mb-4">
        <span class="text-2xl">ğŸ“Š</span>
        <h2 class="text-lg font-bold">Today's Progress</h2>
      </div>
      <div id="statsContent" class="text-sm text-gray-700 space-y-3">
        <div class="border-b pb-2">
          <p class="font-medium">ğŸ“˜ New words learned:</p>
          <p id="statNewWords" class="text-indigo-700 font-semibold text-base"></p>
        </div>
        <div class="border-b pb-2">
          <p class="font-medium">ğŸ” Cards reviewed:</p>
          <p id="statReviewed" class="text-emerald-700 font-semibold text-base"></p>
        </div>
        <div class="border-b pb-2">
          <p class="font-medium">ğŸ§  Remember rate:</p>
          <p id="statRememberRate" class="text-sky-700 font-semibold text-base"></p>
        </div>
        <div class="border-b pb-2">
          <p class="font-medium">â³ Streak progress:</p>
          <p id="statMastered" class="text-purple-700 font-semibold text-base"></p>
        </div>
        <div>
          <p class="font-medium">ğŸ—‚ï¸ Total cards in library:</p>
          <p id="statTotal" class="text-gray-800 font-semibold text-base"></p>
        </div>
        <p class="text-xs text-gray-500 pt-2 border-t mt-2">Stats reset automatically every day</p>
      </div>
    </div>
  </div>

  <!-- Groups Modal -->
  <div id="groupsModal"
      class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
    <div class="bg-white p-6 rounded shadow-xl w-[90%] max-w-md relative">
      <button id="closeGroupsBtn" class="absolute top-3 right-4 text-gray-500 hover:text-gray-700 text-2xl leading-none">
        &times;
      </button>
      <h2 class="text-lg font-bold mb-4">Groups</h2>

      <div class="flex gap-2 mb-4">
        <input id="newGroupName" type="text" placeholder="Name of a group"
              class="flex-1 border rounded px-3 py-2 text-sm" />
        <button id="createGroupBtn"
                class="bg-purple-700 hover:bg-purple-800 text-white text-sm font-semibold py-2 px-4 rounded shadow">
          â• Create
        </button>
      </div>

      <div id="groupsList" class="space-y-2 text-sm">
        <!-- Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ÑÑ Ğ¸Ğ· JS -->
      </div>
    </div>
  </div>

  <!-- Add to Group Modal -->
  <div id="addToGroupModal"
      class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 hidden">
    <div class="bg-white p-6 rounded shadow-xl w-[90%] max-w-sm relative">
      <button id="closeAddToGroupBtn"
              class="absolute top-3 right-4 text-gray-500 hover:text-gray-700 text-2xl leading-none">
        &times;
      </button>
      <h2 class="text-lg font-bold mb-4">Add to Group</h2>
      <p id="addToGroupWord" class="text-sm mb-4 text-gray-700"></p>
      <div id="addToGroupList" class="space-y-2 text-sm">
        <!-- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ³Ñ€ÑƒĞ¿Ğ¿ Ğ¿Ğ¾Ğ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ¸Ğ· JS -->
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>

